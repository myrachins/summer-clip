defaults:
  - hydra_setup
  - adapter_setup
  - saved_paths
  - _self_
  - dataset: tip_eurosat_test_no_image
  - dataset@cache.dataset: tip_eurosat_train_no_image
  - prompting: tip_eurosat
  - cache_value_strategy: hard_cache
  - cache_weights_strategy: tip_adapter
  # https://github.com/facebookresearch/hydra/issues/1939
  - cache_strategy@cache_strategies.topk: topk
  - cache_strategy@cache_strategies.topk_per_gold: topk_per_gold
  - cache_strategy@cache_strategies.per_pred_class_random: per_pred_class_random
  - cache_strategy@cache_strategies.per_gold_class_random: per_gold_class_random
  - cache_strategy@cache_strategies.global_random: global_random
  - cache_strategy@cache_strategies.all_logits: all_logits

clip:
  model_name: RN50

data:
  image_features_path: ${saved_paths.image_features.EuroSAT_tip_test-RN50}

cache:
  image_features_path: ${saved_paths.image_features.EuroSAT_tip_train-RN50}
  image_outs_path: ${saved_paths.logits.EuroSAT_tip_train-RN50-tip_eurosat}
  alpha: [0.0, 0.1, 0.5, 1., 2., 3., 4.]
  replace_outs_with_golds: false

run_saves:
  save_labels: false
  save_cache_inds: false
  save_preds: false

exp:
  project: clip_searcher
  name: image_attention

# hydra:
#   mode: MULTIRUN
#   sweeper:
#     params:
#       cache_strategy: topk, global_random
#       prompting: tip_imagenet, imagenet
